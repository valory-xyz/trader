name: decision_maker_abci
author: valory
version: 0.1.0
type: skill
description: This skill is responsible for the decision making and placing the bets.
  It samples a market based on its liquidity, it sends a request to a mech to decide
  what to vote for, it receives the response from the mech, it decides whether voting
  is profitable or not, and ultimately, it either bets or blacklists the market.
license: Apache-2.0
aea_version: '>=1.0.0, <2.0.0'
fingerprint:
  README.md: bafybeia367zzdwndvlhw27rvnwodytjo3ms7gbc3q7mhrrjqjgfasnk47i
  __init__.py: bafybeih563ujnigeci2ldzh7hakbau6a222vsed7leg3b7lq32vcn3nm4a
  behaviours/__init__.py: bafybeih6ddz2ocvm6x6ytvlbcz6oi4snb5ee5xh5h65nq4w2qf7fd7zfky
  behaviours/base.py: bafybeifyuhycdirvw4k5np6spfmvinzvisb5rley5xjl7nodhxjtee34oa
  behaviours/bet_placement.py: bafybeihinrdggggwatgtemxafdafm37pquw4wh4llgcvmdeayb6knh4oh4
  behaviours/blacklisting.py: bafybeibv7jcvdv5n3okxnzjlbltjuryg6hzwi4vdwpyi22inibfg7jlqvm
  behaviours/check_benchmarking.py: bafybeiao2lyj7apezkqrpgsyzb3dwvrdgsrgtprf6iuhsmlsufvxfl5bci
  behaviours/claim_subscription.py: bafybeigbqkhc6mb73rbwaks32tfiqx6u2xza43uiy6rvbtrnqd6m4fru3e
  behaviours/decision_receive.py: bafybeiblt4of7gykqvql7ctchakbx27uxvesizbhczlvcqzr35f7zyjjci
  behaviours/decision_request.py: bafybeiawbwfhhgynh5bj63s3pj5x37rtku5g5my6virbdvqni2py2eicma
  behaviours/handle_failed_tx.py: bafybeiashwlfp6ty3g6ukgmliaghwu6yiunbqpjmyrzheokw3pbcr2ckaq
  behaviours/order_subscription.py: bafybeihwuhgykptokmeam5sacnfzedk5puvrxbjo7iypaqhsrqg5nk7psm
  behaviours/randomness.py: bafybeiaoj3awyyg2onhpsdsn3dyczs23gr4smuzqcbw3e5ocljwxswjkce
  behaviours/reedem.py: bafybeig5kwmhpav6q4k6goxhrigg2smrz2adlcsrbvci7yv4mency43yz4
  behaviours/round_behaviour.py: bafybeih63hpia2bwwzu563hxs5yd3t5ycvxvkfnhvxbzghbyy3mw3xjl3i
  behaviours/sampling.py: bafybeict6kcwnjlkxgs7pybypi5dp6ljwxq5ta52rs3v57vmgq6ezklywe
  behaviours/storage_manager.py: bafybeic6wca37fkwonbsrwme55xnklfbqtheknroudayzfxdge4pxdbm7y
  behaviours/tool_selection.py: bafybeienlxcgjs3ogyofli3d7q3p5rst3mcxxcnwqf7qolqjeefjtixeke
  dialogues.py: bafybeigpwuzku3we7axmxeamg7vn656maww6emuztau5pg3ebsoquyfdqm
  fsm_specification.yaml: bafybeib3oecxsixxzf3fsai5f7jlqpqqm23jcuvqn5fgp54shdj3temz2y
  handlers.py: bafybeidwsf6m4v6huwt3hbxqdi5wrj67mmdfpercegsr5xk2covw3nlebq
  io_/__init__.py: bafybeifxgmmwjqzezzn3e6keh2bfo4cyo7y5dq2ept3stfmgglbrzfl5rq
  io_/loader.py: bafybeih3sdsx5dhe4kzhtoafexjgkutsujwqy3zcdrlrkhtdks45bc7exa
  models.py: bafybeiasqxrhudkisjohjdgbkmmj6esyw52sh66xflwkatd5dyradxb37q
  payloads.py: bafybeib6tbvhtjnlxd73spnv3ogdjtps3i36c7wgzfuscvhlv26gjqwnsa
  policy.py: bafybeidofgwvk6sudz75tvuduskuphtn3amtib2irzw5hr3qcfn5pdwuc4
  redeem_info.py: bafybeifiiix4gihfo4avraxt34sfw35v6dqq45do2drrssei2shbps63mm
  rounds.py: bafybeiakxuds4pzxugbwajuy63gy5y5c6yzv5jdwk55un4rqakwu2mki7e
  rounds_info.py: bafybeihg6i3h7a7ahfxzhow7gcuszcilq5krfpchze2szjdu7dtem2tnwa
  states/__init__.py: bafybeid23llnyp6j257dluxmrnztugo5llsrog7kua53hllyktz4dqhqoy
  states/base.py: bafybeicoyr3xoowyfkmunblh7o43xa2cp4fgliklp4sxbmnw2t6ahzkiki
  states/bet_placement.py: bafybeie4eboz3i2xhduwyryrbpavbl7gonsc3ybpddsku3f6vcvae4q66i
  states/blacklisting.py: bafybeidqi356wrxmvj2hqs22hw3kaszh4fg4rs3fo5axk2biosxt6kfbiy
  states/check_benchmarking.py: bafybeiagrgeopuluwqkvoqbst2hjymte5rju2pecvkoeleklnqca5andeu
  states/claim_subscription.py: bafybeicjsjkvv2ftfv2gquvp7fyvuqia6acs44d3smwebgaic7lhkbaym4
  states/decision_receive.py: bafybeibktcd4clpfyrb3lsoa7bvmpoloyqdhw5eh5fjnno5duaoid55pse
  states/decision_request.py: bafybeig6l3l6ulv7alhwfxjlzz53i6g5gw3l5vumivadqstnmqoupwmaea
  states/final_states.py: bafybeicjrrojo3gmfaxzicwloyorlnqgzl6a2avevo4nvhoh424zwzmbti
  states/handle_failed_tx.py: bafybeibskm4qe2bmmbdcoidbhjvy6zph5474fhele7pkjjavwqi7jtvzja
  states/order_subscription.py: bafybeihl3pwrbccaitiukbigygd5u3weyih34pvzql3c6n5k7gjj47f2be
  states/randomness.py: bafybeiceoo4nx3t4dofpwczw3v5mclramwmzpwjs6hv7l56arodrjx4l5u
  states/redeem.py: bafybeica6cn4xg7shea2wjhbqnddgxe5zao2hkmceltze7qknxdhtsoaxe
  states/sampling.py: bafybeicrmisa2tze4bhxhi2sxzrlzji2rucyh7qdtoncfk5icbs4sm2pbq
  states/tool_selection.py: bafybeiak5ihuie4nxh3sguiea6pcdgyxr4k4xyzvq6o2uj5xpf7urocawy
  tests/__init__.py: bafybeiakpi3k3kc7wrjj7hrluvjcj36lu2gezpmrctwiz5yg2fe7ggnf3i
  tests/behaviours/__init__.py: bafybeic7icz7lfhfepdkqkase7y7zn3a6pwdw6fx4ah2hajmgejawpolc4
  tests/behaviours/data/.gitkeep: bafybeiekl43sjsyqfgl6y27ve5ydo4svcngrptgtffblokmspfezroxvvi
  tests/behaviours/dummy_strategy/__init__.py: bafybeiep5w5yckjzy724v63qd5cmzfn3uxytmnizynomxggfobbysfcttq
  tests/behaviours/dummy_strategy/dummy_strategy.py: bafybeig5e3xfr7gxsakfj4stbxqcwdiljl7klvgahkuwe3obzxgkg3qt2e
  tests/behaviours/test_base.py: bafybeiboiox2eqfncvkj7iofsfrpsdfncahd2bak5jtexngusmgpmrheeu
  tests/conftest.py: bafybeidy5hw56kw5mxudnfbhvogofn6k4rqb4ux2bd45baedrrhmgyrude
  tests/states/test_base.py: bafybeieqy7wz5677jathwnolsgrt7zdifauammly3aeoq6dk4hdsqo5fte
  tests/states/test_bet_placement.py: bafybeibvc37n2cluep4tasvgmvwxwne2deais6ptirducpogk67v4gj4ga
  tests/states/test_blacklising.py: bafybeifcsv7v34qi75vx5kw6w72wdjfxyq7vjcfm2oejqgpxitlnk7athy
  tests/states/test_check_benchmarking.py: bafybeiaauepn46l5z5kx2ifzsqcuravg3zvddecuhdgp4eaeous6vaqyoq
  tests/states/test_claim_subscription.py: bafybeiclkxjhceb3ehgmg6klt4uywew5drk5b3w6no7mwxetpubxqrejfy
  tests/states/test_decision_receive.py: bafybeieshzx2nyjj6rbwkboku3paqismypof64vb6zwt7bhjvspeyu5kae
  tests/states/test_decision_request.py: bafybeigqbakm2olkwvcngertjplhnmu6on6tp6hxn7lxygi2gf5a5eurbe
  tests/states/test_final_states.py: bafybeiftfd3ovaqpfe7t5ry7maiziavk74wl66d6zo6ikhgodznormd2nm
  tests/states/test_handle_failed_tx.py: bafybeieiit4e4mrckvi6hq4bpwiq6ezathd2hge4t7u4dbkggyxg764xgi
  tests/states/test_order_subscription.py: bafybeidx2tzivsxhpr5xx5e5h2xmpjyewfogt2mujv4sq3hbaeksmcbvhy
  tests/states/test_randomness.py: bafybeib3eqjv6mhlprzda7d4viddn5alrfqteq6juyg3ccejseoywcsbey
  tests/states/test_redeem.py: bafybeiezdnfrxukb2xpwffrr357g2anmdkwy7wo3nphvlggipq5xrdzr7a
  tests/states/test_sampling.py: bafybeigefevj5ncbey2ynoctifqsmw6fa6ybhojoo4ah3derfgcwjqpwoy
  tests/states/test_tool_selection.py: bafybeib7js3dj7647t33o5ybfqftwytxktwrvhbri5yuyymg6znj6y7xxa
  tests/test_dialogues.py: bafybeibulo64tgfrq4e5qbcqnmifrlehkqciwuavublints353zaj2mlpa
  tests/test_handlers.py: bafybeifkcy3xo7mqdqtkpxohsuvepf5675j4vkwsmf7xe7yxjsadp5j7gy
  tests/test_payloads.py: bafybeiejpbnrvcwjed3baqyu6h52ex4cglmlsz75j5jwr5yfarzaosogeu
  tests/test_rounds.py: bafybeigifftusd4ew42tyvyrr55o2uehhcik2gdq3atkpjwwlqdeskedty
  utils/__init__.py: bafybeiazrfg3kwfdl5q45azwz6b6mobqxngxpf4hazmrnkhinpk4qhbbf4
  utils/nevermined.py: bafybeigallaqxhqopznhjhefr6bukh4ojkz5vdtqyzod5dksshrf24fjgi
  utils/scaling.py: bafybeialr3z4zogp4k3l2bzcjfi4igvxzjexmlpgze2bai2ufc3plaow4y
fingerprint_ignore_patterns: []
connections:
- valory/http_server:0.22.0:bafybeic3jpkum7g6qo6x6vdrmvvhj7vqw7ec2op72uc3yfhmnlp5hn3joy
contracts:
- valory/gnosis_safe:0.1.0:bafybeidao75ykdhkm7brclsslx3iinmgnvdiot5npanfbmatcaqrcvlsk4
- valory/market_maker:0.1.0:bafybeihogpo436ptujsdyppdrbvhft53zkfkmdnb7r2mu6brgpsg6qku5q
- valory/erc20:0.1.0:bafybeigq5romc4t3tijx2nqwk5cv3utcoys27vmwy5zdv2wwp4abuc25eq
- valory/multisend:0.1.0:bafybeig5byt5urg2d2bsecufxe5ql7f4mezg3mekfleeh32nmuusx66p4y
- valory/mech:0.1.0:bafybeiezyn4h4jov2m7dz6durnmpz7lvvdm6njz4h6c4oxl6thf44hmi74
- valory/conditional_tokens:0.1.0:bafybeibnzmqmeph4cj5vfh3s622mo2o5627vjjwc6bptrhj4dk65mzgvhe
- valory/realitio:0.1.0:bafybeietgux6kkhdquspy35qera7gjwwqwrremmoeatjzwwokjb2lzsata
- valory/realitio_proxy:0.1.0:bafybeidx37xzjjmapwacedgzhum6grfzhp5vhouz4zu3pvpgdy5pgb2fr4
- valory/agent_registry:0.1.0:bafybeibfqhrpvuaibi6pgwsrot3ybt77hf4itjw6pklwnpxi3wcrrg2gr4
- valory/transfer_nft_condition:0.1.0:bafybeicfl4jldwjf6ngk3x4b36krcqogzbgqzs4zkzxipmtgveeefus264
protocols:
- valory/contract_api:1.0.0:bafybeid247uig2ekykdumh7ewhp2cdq7rchaeqjj6e7urx35zfpdl5zrn4
- valory/ledger_api:1.0.0:bafybeihmqzcbj6t7vxz2aehd5726ofnzsfjs5cwlf42ro4tn6i34cbfrc4
- valory/ipfs:0.1.0:bafybeifi2nri7sprmkez4rqzwb4lnu6peoy3bax5k6asf6k5ms7kmjpmkq
- valory/http:1.0.0:bafybeih4azmfwtamdbkhztkm4xitep3gx6tfdnoz6tvllmaqnhu3klejfa
skills:
- valory/abstract_round_abci:0.1.0:bafybeia27qmw6w5ds5fcrpj2475brnz742aampe3sgochloijs2l7jovai
- valory/market_manager_abci:0.1.0:bafybeido4p5faa3hpytcud4xh42bf4cutyuhbcb6jtv2ogo4aj57xniovu
- valory/transaction_settlement_abci:0.1.0:bafybeifkftgkyzrxwxjdyqixpp7vk6aqmufikalmwx3kydtlg74tonu47u
- valory/mech_interact_abci:0.1.0:bafybeif2tpz2zet6p4z4vi3b254oxzyyzoe5tehj3me3znzt7h7otkpd54
- valory/staking_abci:0.1.0:bafybeigbe62mg2w62lhlw7we3il2c5hhpxmdi4rwtx3iow3k3pdtmbt6ka
behaviours:
  main:
    args: {}
    class_name: AgentDecisionMakerRoundBehaviour
handlers:
  abci:
    args: {}
    class_name: ABCIHandler
  contract_api:
    args: {}
    class_name: ContractApiHandler
  http:
    args: {}
    class_name: HttpHandler
  ipfs:
    args: {}
    class_name: IpfsHandler
  ledger_api:
    args: {}
    class_name: LedgerApiHandler
  signing:
    args: {}
    class_name: SigningHandler
  tendermint:
    args: {}
    class_name: TendermintHandler
models:
  abci_dialogues:
    args: {}
    class_name: AbciDialogues
  benchmark_tool:
    args:
      log_dir: /logs
    class_name: BenchmarkTool
  contract_api_dialogues:
    args: {}
    class_name: ContractApiDialogues
  http_dialogues:
    args: {}
    class_name: HttpDialogues
  ipfs_dialogues:
    args: {}
    class_name: IpfsDialogues
  ledger_api_dialogues:
    args: {}
    class_name: LedgerApiDialogues
  params:
    args:
      cleanup_history_depth: 1
      cleanup_history_depth_current: null
      drand_public_key: 868f005eb8e6e4ca0a47c8a77ceaa5309a47978a7c71bc5cce96366b5d7a569937c529eeda66c7293784a9402801af31
      genesis_config:
        genesis_time: '2022-05-20T16:00:21.735122717Z'
        chain_id: chain-c4daS1
        consensus_params:
          block:
            max_bytes: '22020096'
            max_gas: '-1'
            time_iota_ms: '1000'
          evidence:
            max_age_num_blocks: '100000'
            max_age_duration: '172800000000000'
            max_bytes: '1048576'
          validator:
            pub_key_types:
            - ed25519
          version: {}
        voting_power: '10'
      keeper_timeout: 30.0
      max_attempts: 10
      max_healthcheck: 120
      multisend_address: '0x0000000000000000000000000000000000000000'
      multisend_batch_size: 1
      on_chain_service_id: null
      request_retry_delay: 1.0
      request_timeout: 10.0
      reset_pause_duration: 10
      reset_tendermint_after: 2
      retry_attempts: 400
      retry_timeout: 3
      round_timeout_seconds: 350.0
      service_id: decision_maker
      service_registry_address: null
      agent_registry_address: '0x0000000000000000000000000000000000000000'
      setup:
        all_participants:
        - '0x0000000000000000000000000000000000000000'
        safe_contract_address: '0x0000000000000000000000000000000000000000'
        consensus_threshold: null
      share_tm_config_on_startup: false
      sleep_time: 1
      use_slashing: false
      slash_cooldown_hours: 3
      slash_threshold_amount: 10000000000000000
      light_slash_unit_amount: 5000000000000000
      serious_slash_unit_amount: 8000000000000000
      tendermint_check_sleep_delay: 3
      tendermint_com_url: http://localhost:8080
      tendermint_max_retries: 5
      tendermint_p2p_url: localhost:26656
      tendermint_url: http://localhost:26657
      tx_timeout: 10.0
      use_termination: false
      mech_contract_address: '0x77af31de935740567cf4ff1986d04b2c964a786a'
      mech_request_price: null
      mech_chain_id: gnosis
      mech_wrapped_native_token_address: '0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d'
      mech_interaction_sleep_time: 10
      creator_per_subgraph:
        omen_subgraph: []
      slot_count: 2
      opening_margin: 300
      languages:
      - en_US
      average_block_time: 5
      abt_error_mult: 5
      the_graph_error_message_key: message
      the_graph_payment_required_error: payment required for subsequent requests for
        this API key
      sample_bets_closing_days: 10
      trading_strategy: strategy_name
      use_fallback_strategy: true
      bet_threshold: 100000000000000000
      ipfs_address: https://gateway.autonolas.tech/ipfs/
      tools_accuracy_hash: QmR8etyW3TPFadNtNrW54vfnFqmh8vBrMARWV76EmxCZyk
      prompt_template: With the given question "@{question}" and the `yes` option
        represented by `@{yes}` and the `no` option represented by `@{no}`, what are
        the respective probabilities of `p_yes` and `p_no` occurring?
      dust_threshold: 10000000000000
      conditional_tokens_address: '0xCeAfDD6bc0bEF976fdCd1112955828E00543c0Ce'
      realitio_proxy_address: '0xAB16D643bA051C11962DA645f74632d3130c81E2'
      realitio_address: '0x79e32aE03fb27B07C89c0c568F80287C01ca2E57'
      redeem_round_timeout: 3600.0
      event_filtering_batch_size: 5000
      reduce_factor: 0.25
      max_filtering_retries: 6
      minimum_batch_size: 500
      redeeming_batch_size: 5
      store_path: data
      slippage: 0.01
      policy_epsilon: 0.1
      use_subgraph_for_redeeming: true
      use_nevermined: true
      policy_store_update_offset: 259200
      mech_to_subscription_params:
        base_url: url
        did: did
        escrow_payment_condition_address: address
        lock_payment_condition_address: address
        transfer_nft_condition_address: address
        token_address: address
        order_address: address
        nft_amount: amount
        payment_token: address
        price: price
      irrelevant_tools:
      - openai-text-davinci-002
      - openai-text-davinci-003
      - openai-gpt-3.5-turbo
      - openai-gpt-4
      - stabilityai-stable-diffusion-v1-5
      - stabilityai-stable-diffusion-xl-beta-v2-2-2
      - stabilityai-stable-diffusion-512-v2-1
      - stabilityai-stable-diffusion-768-v2-1
      tool_punishment_multiplier: 1
      contract_timeout: 300.0
      file_hash_to_strategies: {}
      strategies_kwargs:
        bet_kelly_fraction: 1.0
        floor_balance: 500000000000000000
        bet_amount_per_threshold:
          0.0: 0
          0.1: 0
          0.2: 0
          0.3: 0
          0.4: 0
          0.5: 0
          0.6: 0
          0.7: 0
          0.8: 0
          0.9: 0
          1.0: 0
      service_endpoint: trader.staging.autonolas.tech/
      rpc_sleep_time: 10
      safe_voting_range: 600
      rebet_chance: 0.6
      use_mech_marketplace: false
      mech_marketplace_config:
        mech_marketplace_address: '0x0000000000000000000000000000000000000000'
        priority_mech_address: '0x0000000000000000000000000000000000000000'
        priority_mech_staking_instance_address: '0x0000000000000000000000000000000000000000'
        priority_mech_service_id: 0
        requester_staking_instance_address: '0x0000000000000000000000000000000000000000'
        response_timeout: 300
      agent_balance_threshold: 10000000000000000
      expected_mech_response_time: 300
      mech_invalid_response: Invalid Response
      mech_consecutive_failures_threshold: 2
      tool_quarantine_duration: 18000
      olas_token_address: '0xcE11e14225575945b8E6Dc0D4F2dD4C570f79d9f'
      http_handler_hostname_regex: localhost
    class_name: DecisionMakerParams
  acc_info_fields:
    args:
      tool: tool
      requests: total_requests
      accuracy: tool_accuracy
      sep: ','
      max: max
      datetime_format: '%Y-%m-%d %H:%M:%S'
    class_name: AccuracyInfoFields
  trades_subgraph:
    args:
      api_id: trades
      headers:
        Content-Type: application/json
      method: POST
      parameters: {}
      response_key: data:fpmmTrades
      response_type: list
      error_key: errors
      error_index: 0
      error_type: dict
      retries: 5
      url: https://api.thegraph.com/subgraphs/name/protofire/omen-xdai
    class_name: TradesSubgraph
  conditional_tokens_subgraph:
    args:
      api_id: conditional_tokens
      headers:
        Content-Type: application/json
      method: POST
      parameters: {}
      response_key: data:user:userPositions
      response_type: list
      error_key: errors
      error_index: 0
      error_type: dict
      retries: 5
      url: https://api.thegraph.com/subgraphs/name/gnosis/conditional-tokens-gc
    class_name: ConditionalTokensSubgraph
  realitio_subgraph:
    args:
      api_id: realitio
      headers:
        Content-Type: application/json
      method: POST
      parameters: {}
      response_key: data:answers
      response_type: list
      error_key: errors
      error_index: 0
      error_type: dict
      retries: 5
      url: https://api.thegraph.com/subgraphs/name/realityeth/realityeth-gnosis
    class_name: RealitioSubgraph
  agent_tools:
    args:
      api_id: agent_tools
      headers:
        Content-Type: application/json
      method: GET
      parameters: {}
      response_key: tools
      response_type: list
      retries: 5
      url: ''
    class_name: AgentToolsSpecs
  requests:
    args: {}
    class_name: Requests
  signing_dialogues:
    args: {}
    class_name: SigningDialogues
  state:
    args: {}
    class_name: SharedState
  tendermint_dialogues:
    args: {}
    class_name: TendermintDialogues
dependencies:
  hexbytes:
    version: ==0.3.1
  hypothesis:
    version: ==6.21.6
  py-multibase:
    version: ==1.0.3
  py-multicodec:
    version: ==0.2.1
  web3:
    version: <7,>=6.0.0
  eth-abi:
    version: ==4.0.0
  pyyaml:
    version: <=6.0.1,>=3.10
  prometheus_client:
    version: ==0.21.1
is_abstract: true
